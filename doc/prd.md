# gallery 重构 prd

* 版本：v1.0
* 作者：明河
* 开发者：淘杰、伯方、明河

## 背景

现行的gallery系统存在如下问题：

* 非常不稳定，经常挂
* 使用文件存储数据的方式是隐患，不够强大
* 网站在信息组织上不够理想。

gallery系统的潜力可以通过挖掘成为通用的模块和系统，具有一定的价值，所以发起这次重构。

## 【p1】 封装github-converge模块，用于github api调用

github所有的api操作都封装到github-converge模块。

需要如下功能：

* 校验github用户
* 复制用户的组件库到服务器
* 拉取用户组件库的更新
* 获取组件库信息
* 获取组件提交记录
* 获取库的issue组成一个列表数据
* 错误日志

## 【p1】 magic-power(github聚合系统)前台

* 列表页面：显示所有的聚合内容
* 内容详情页面：assets静态服务器，渲染库中的markdown模板
* 标签模块
* 搜索模块
* 统计模块
* 用户（作者）模块

## 【p2】 magic-power(github聚合系统)后台

* 库添加/删除
* 标签管理
* markdown模板选择

## 【p1】 使用pm2部署

使用PM2模块来部署服务，提高稳定性。

要求有详细的错误日志。

## 【p1】 供外部调用的api

* 聚合的所有库信息数据
* 搜索接口
* 标签接口
* 作者接口

## 【p2】 组件搜索优化

## 【p2】 列表页面使用懒加载

## 【p2】 错误页面优化

## 【p2】 五星组件权重体现

## 【p2】 kissy版本体现

## 【p2】 数据统计模块部署

[Ranaly](https://github.com/luin/ranaly)

## 【p2】 自动生成作者半月报

## 【p2】 作者数据体现